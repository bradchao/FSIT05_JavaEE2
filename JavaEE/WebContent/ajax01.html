<script>
var xmlhttp;
if (window.XMLHttpRequest) {
    // code for modern browsers
    xmlhttp = new XMLHttpRequest();
    console.log("debug1");
 } else {
    // code for old IE browsers
    xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    console.log("debug2");
}
//alert('now: ' + xmlhttp.readyState);

xmlhttp.onreadystatechange = callback2; 
	
function callback(){
	var state = xmlhttp.readyState;
	var id1 = document.getElementById('id1');
	var id2 = document.getElementById('id2');
	var id3 = document.getElementById('id3');
	var id4 = document.getElementById('id4');
	switch (state){
		case 1: id1.innerHTML = 'OK1'; break; 
		case 2: id2.innerHTML = 'OK2'; break; 
		case 3: id3.innerHTML = 'OK3'; break; 
		case 4: id4.innerHTML = 'OK4'; break; 
	}
}
function callback2(){
	var state = xmlhttp.readyState;
	var status = xmlhttp.status;
	if (state == 4 && status == 200){
		console.log('AJAX OK');
		document.getElementById('title').innerHTML = xmlhttp.responseText;
		
		
	}else{
		console.log('AJAX status:' + status);
	}
}
function test1(){
	xmlhttp.open('GET','ajax02.jsp',true);
	xmlhttp.setRequestHeader("var1","Brad");
	xmlhttp.send();
}


</script>
<button onclick='test1()'>Test1</button><br>
1 : <span id='id1'></span><br>
2 : <span id='id2'></span><br>
3 : <span id='id3'></span><br>
4 : <span id='id4'></span><br>
<hr>
<div id='title'></div>



